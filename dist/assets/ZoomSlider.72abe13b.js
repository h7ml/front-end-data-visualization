import{q as t,s as e,B as i,k as n,C as o,b as r,o as s}from"./vendor.2e2c44b9.js";import{T as a}from"./TileImage.e8088637.js";import{B as l}from"./BingMaps.c600f977.js";import{bW as h,bZ as d,c8 as g,E as p,cc as u,bH as c,P as _,Q as m,R as f,bX as v,M as y,V as b,bY as E}from"./ol.fd4c2e5b.js";import"./net.7b649b59.js";var R,w=(R=function(t,e){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),L=0,P=1,F=function(t){function e(e){var i=this,n=e||{};(i=t.call(this,{element:document.createElement("div"),render:n.render})||this).dragListenerKeys_=[],i.currentResolution_=void 0,i.direction_=L,i.dragging_,i.heightLimit_=0,i.widthLimit_=0,i.startX_,i.startY_,i.thumbSize_=null,i.sliderInitialized_=!1,i.duration_=void 0!==n.duration?n.duration:200;var o=void 0!==n.className?n.className:"ol-zoomslider",r=document.createElement("button");r.setAttribute("type","button"),r.className=o+"-thumb "+h;var s=i.element;return s.className=o+" "+h+" "+d,s.appendChild(r),s.addEventListener(g.POINTERDOWN,i.handleDraggerStart_.bind(i),!1),s.addEventListener(g.POINTERMOVE,i.handleDraggerDrag_.bind(i),!1),s.addEventListener(g.POINTERUP,i.handleDraggerEnd_.bind(i),!1),s.addEventListener(p.CLICK,i.handleContainerClick_.bind(i),!1),r.addEventListener(p.CLICK,u,!1),i}return w(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&e.render()},e.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,i=t.offsetHeight;if(0===e&&0===i)return this.sliderInitialized_=!1;var n=getComputedStyle(t);e-=parseFloat(n.paddingRight)+parseFloat(n.paddingLeft),i-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom);var o=t.firstElementChild,r=getComputedStyle(o),s=o.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),a=o.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);return this.thumbSize_=[s,a],e>i?(this.direction_=P,this.widthLimit_=e-s):(this.direction_=L,this.heightLimit_=i-a),this.sliderInitialized_=!0},e.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),i=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),n=this.getResolutionForPosition_(i),o=e.getConstrainedZoom(e.getZoomForResolution(n));e.animateInternal({zoom:o,duration:this.duration_,easing:c})},e.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.target===this.element.firstElementChild){var e=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=t.clientX-parseFloat(e.style.left),this.startY_=t.clientY-parseFloat(e.style.top),this.dragging_=!0,0===this.dragListenerKeys_.length){var i=this.handleDraggerDrag_,n=this.handleDraggerEnd_,o=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(_(o,g.POINTERMOVE,i,this),_(o,g.POINTERUP,n,this))}}},e.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=t.clientX-this.startX_,i=t.clientY-this.startY_,n=this.getRelativePosition_(e,i);this.currentResolution_=this.getResolutionForPosition_(n),this.getMap().getView().setResolution(this.currentResolution_)}},e.prototype.handleDraggerEnd_=function(t){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(m),this.dragListenerKeys_.length=0)},e.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),i=this.element.firstElementChild;this.direction_==P?i.style.left=this.widthLimit_*e+"px":i.style.top=this.heightLimit_*e+"px"},e.prototype.getRelativePosition_=function(t,e){var i;return i=this.direction_===P?t/this.widthLimit_:e/this.heightLimit_,f(i,0,1)},e.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},e.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView().getValueForResolutionFunction();return f(1-e(t),0,1)},e.prototype.render=function(t){if(t.frameState&&(this.sliderInitialized_||this.initSlider_())){var e=t.frameState.viewState.resolution;this.currentResolution_=e,this.setThumbPosition_(e)}},e}(v);t("data-v-34b38ebe");const C={id:"map",class:"map__x"};e();const S={setup(t){const e=i(),h=n(null);return o((()=>{e.commit("setComponentPath","src/views/OpenLayers/Basic/pages/ZoomSlider/ZoomSlider.vue"),h.value=new y({target:"map",layers:[new a({source:new l({key:"AiZrfxUNMRpOOlCpcMkBPxMUSKOEzqGeJTcVKUrXBsUdQDXutUBFN3-GnMNSlso-",imagerySet:"Aerial"})})],view:new b({projection:"EPSG:4326",center:[114.064839,22.548857],zoom:6}),controls:E().extend([new F])})})),(t,e)=>(s(),r("div",C))},__scopeId:"data-v-34b38ebe"};export{S as default};
